<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" media="screen" href="/~d/styles/rss2full.xsl"?><?xml-stylesheet type="text/css" media="screen" href="http://feeds.feedburner.com/~d/styles/itemcontent.css"?><rss xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:wfw="http://wellformedweb.org/CommentAPI/" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:sy="http://purl.org/rss/1.0/modules/syndication/" xmlns:slash="http://purl.org/rss/1.0/modules/slash/" xmlns:feedburner="http://rssnamespace.org/feedburner/ext/1.0" version="2.0">

<channel>
	<title>Test &amp; Measurement Tips</title>
	
	<link>http://www.testandmeasurementtips.com</link>
	<description>Oscilloscopes, electronics engineering industry news, how-to EE articles and electronics resources</description>
	<lastBuildDate>Mon, 23 Jan 2017 22:46:06 +0000</lastBuildDate>
	<language>en-US</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>https://wordpress.org/?v=4.7.1</generator>

<image>
	<url>http://www.testandmeasurementtips.com/wp-content/uploads/2016/09/cropped-favicon-32x32.jpg</url>
	<title>Test &amp; Measurement Tips</title>
	<link>http://www.testandmeasurementtips.com</link>
	<width>32</width>
	<height>32</height>
</image> 
	<atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="self" type="application/rss+xml" href="http://feeds.feedburner.com/TestAndMeasurementTips" /><feedburner:info uri="testandmeasurementtips" /><atom10:link xmlns:atom10="http://www.w3.org/2005/Atom" rel="hub" href="http://pubsubhubbub.appspot.com/" /><feedburner:emailServiceId>TestAndMeasurementTips</feedburner:emailServiceId><feedburner:feedburnerHostname>https://feedburner.google.com</feedburner:feedburnerHostname><item>
		<title>Testing and measurements with RS-232</title>
		<link>http://feedproxy.google.com/~r/TestAndMeasurementTips/~3/T89PheuJCHA/</link>
		<comments>http://www.testandmeasurementtips.com/testing-measurements-rs-232/#respond</comments>
		<pubDate>Mon, 23 Jan 2017 22:46:06 +0000</pubDate>
		<dc:creator><![CDATA[David Herres]]></dc:creator>
				<category><![CDATA[Test Equipment]]></category>
		<category><![CDATA[Tektronix]]></category>

		<guid isPermaLink="false">http://www.testandmeasurementtips.com/?p=10077</guid>
		<description><![CDATA[<p>The trapezoid-shaped 25-pin array inside the rectangular connector was a familiar sight a few years back, in an age when computers were connected primarily by means of the RS-232 bus. This old protocol seems rather clunky today alongside sleek new USB schemes with their many user benefits. However, RS-232 is far from obsolete. It is [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/testing-measurements-rs-232/">Testing and measurements with RS-232</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>The trapezoid-shaped 25-pin array inside the rectangular connector was a familiar sight a few years back, in an age when computers were connected primarily by means of the RS-232 bus. This old protocol seems rather clunky today alongside sleek new USB schemes with their many user benefits. However, RS-232 is far from obsolete. It is still widely used in programmable logic controllers (PLCs), networking equipment, and scientific instrumentation. This despite some downsides: low transmission speed, large voltage swings, and bulky connectors.</p>
<p>Unlike SPI, RS-232 was not a mere <em>de facto</em> standard. It was thoroughly codified by the Electronic Industries Association in RS-232-C (1969) with regard to electrical signal qualities including voltage levels, signaling and slew rate, timing, voltage-withstand level, and short-circuit and load capacitance metrics. The standard furthermore defined interface and connector construction and pin outs. Circuit functions were described in the manner of similar standards.</p>
<div id="attachment_10078" style="width: 411px" class="wp-caption alignleft"><img class="wp-image-10078" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/rs232-169x300.jpg" alt="RS 232 25-pin connector " width="401" height="712" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/rs232-169x300.jpg 169w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/rs232.jpg 492w" sizes="(max-width: 401px) 100vw, 401px" /><p class="wp-caption-text">A 25-pin D-sub connector for RS-232 bus connections and its pin definitions.</p></div>
<p>RS-232 was introduced in 1962 as an EIA Recommended Standard. At first it was envisioned to apply to teletype machinery with associated modems. Early terminals were built so as to be compatible with teletypewriting equipment. Accordingly, RS-232 remained relevant. However, a degree of confusion ensued because of proliferating peripheral devices that varied somewhat in electrical requirements, notably their use of reduced voltage levels.</p>
<p>The original RS-232 was less ambitious than more recent electronic bus protocols. One problem with the earlier design was that use of large voltage swings and the need for both positive and negative supplies resulted in excessive power consumption. Because of the voltage swing, maximum speed was limited. Also, noise immunity and transmission distance were compromised because of single-ended signaling referenced to a common signal ground.</p>
<p>Multiple drops to three and more devices required improvisation, placing upper limits on speed and hampering compatibility. In an important respect, RS-232 resembled Ethernet in that to link identical computers or other devices, crossover cables were needed to matchup transmit and receive pins. This involved a larger media inventory, not to mention the possibility of error. Unlike USB, significant amounts of power could not be conveyed from host to peripherals. Moreover, with 25 pins at each end, cabling and terminations cost more, compromising an important rationale for the move from parallel to serial communication.</p>
<p>RS-232 is a single-ended as opposed to differential bus. Independent channels make possible full-duplex simultaneous communication between a central processing unit and its peripherals. Pin 2 transmits data and pin 3 receives data. Pin 4, request-to-send, is a signal sent from the transmitter; and pin 5, clear-to-send, is a signal sent from the receiver. Normally, these pins are on throughout the communication session. Pins 15, 17 and 24 are used to convey a clock signal, which is used only for synchronous communication.</p>
<p>Throughout any discussion of the RS-232 bus, the distinction must be kept in mind between Data Terminal Equipment (DTE) and Data Communication Equipment (DCE). Normally, a personal computer is DTE and the modem is DCE, regardless of which is transmitting at the moment.</p>
<p>The identity of any two units that are in communication can be ascertained by measuring the voltage on certain pins. Measure the voltage first between pins 2 and 7, and then between 3 and 7. Be certain in all cases that the black multimeter lead is connected to pin 7, which is signal ground. If the voltage on pin 2 is more negative than -3 V, you are looking at a DTE. If the voltage on pin 3 is more negative than -3 V, you are looking at a DCE.</p>
<p>This procedure presupposes, of course, that the system is wired correctly and that the pin outs correspond to the RS-232 standard.</p>
<p>It is easy to see why USB has replaced RS-232 as the predominant bus technology for data transfer between computers and peripherals as well as numerous similar applications in reasonably forgiving environments. But RS-232 remains the dominant data and clock bus on the harsh factory floor and in industrial locations world-wide, where the bulky, rugged connectors are actually a plus.</p>
<div id="attachment_10079" style="width: 310px" class="wp-caption alignleft"><img class="size-medium wp-image-10079" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/rs232connectorstyles-300x166.jpg" alt="RS 232 connector styles" width="300" height="166" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/rs232connectorstyles-300x166.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/rs232connectorstyles.jpg 334w" sizes="(max-width: 300px) 100vw, 300px" /><p class="wp-caption-text">Though the 25-pin D-shell (top) is the primary RS-232 connector style, some old PCs used a 9-pin version (center). And there is an RJ45 version (bottom) defined by EIA-561 for nonsynchronous apps only.</p></div>
<p>In addition to scientific instrumentation, production facilities make use of RS-232 in PLCs, which are generally connected to and controlled by ruggedized laptop computers through Ethernet, RS-232, RS-485 or RS-422, all related technologies. While a variety of programming software is possible, among the most-used variant is ladder logic. RS-232 in conjunction with ladder logic works well in harsh factory-floor environments where robust enclosures and tough cabling and connectors are needed to meet the challenges presented by temperature swings, dust, vibration and the possibility of moisture.</p>
<p>RS-232 may consist of either synchronous or asynchronous transmissions. The many lines include those for data as well as for control information. Each of these circuits operates in one direction only, either from the central unit to a peripheral or in the reverse direction. Because these circuits are separate, they can work simultaneously, so the system is capable of full duplex information transfer. RS-232 doesn&#8217;t use character framing and encoding.</p>
<p>The voltage levels by definition in RS-232 for logic high and logic low are +3 to +15 and -3 to -15 respectively. So -3 to +3 is a restricted zone, meaning it is not a valid R-232 level with reference to the common ground pin. In data transmission, logic one, the negative voltage, is known as âmark.â Logic zero, positive, is called âspaceâ in the RS-232 bus.</p>
<p>Opposite polarity is used for the control signals, which is to say that positive voltage is the active state while negative voltage is the inactive state. This is in contrast to SPI, where zero volts on the SS line selects a particular slave and presence of voltage deselects it.</p>
<p>RS-232 requires a stable zero volts on the ground pins at both ends of the cable. If there is a significant difference, a ground loop will exist and there will be circulating electrical current. For this reason, RS-232 cable is restricted to relatively short lengths. RS-422, RS-485 and USB employ differential signaling with common mode rejection, and this permits longer cable lengths.</p>
<p>Rather than a maximum cable length, RS-232 mandates the amount of capacitance to be tolerated by any drive circuit. General use cables that comply with the standard will usually have too much capacitance if their length exceeds 50 ft. Special low-capacitance cables maintain full functionality in lengths up to 1,000 ft. Cable quality must be closely monitored to prevent harmful crosstalk between data and control lines.</p>
<p>RS-232 communication can be accomplished through cabling that has far fewer conductors than are suggested by the multi-pin connectors used at the ends. As few as two wires, data and ground, are used for one-way transmission in equipment as diverse as postal meters and GPS receivers that transmit position only. Five conductors are needed for two-way data plus hardware control.</p>
<p>To troubleshoot an RS-232 system, a digital probe perhaps in conjunction with a pulser will show the data and control high and low states. Y cables permit the technician to monitor traffic in both directions. A serial line analyzer is capable of checking RS-232 voltage levels, connectors and clock signals. This instrument will collect, store, and display the data and control signals.</p>
<p>Some of these instruments only display the signals as waveforms. Others can decode characters in ASCII and interpret protocols commonly used in an RS-232 bus including SDLC, HDLC, DDCMP, and X.25. Various types of serial line analyzers take the form of bench-type units or as software with cable accessories for logic analyzers and oscilloscopes. There are also available programs for laptop and desktop computers.</p>
<p>Because RS-232 is potentially a full-duplex bus, it needs separate send and receive lines. The Tektronix Demo 1 Board contains a terminal, labeled on the board, from which an RS-232 transmit signal can be obtained. The probe hook tip is connected to this terminal and the ground return lead is clipped onto one of the boardâs ground terminals.</p>
<div id="attachment_10080" style="width: 310px" class="wp-caption alignleft"><img class="size-medium wp-image-10080" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/Tek-RS232-TX-300x180.png" alt="Tek RS232 TX" width="300" height="180" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-RS232-TX-300x180.png 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-RS232-TX-768x461.png 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-RS232-TX.png 800w" sizes="(max-width: 300px) 100vw, 300px" /><p class="wp-caption-text">RS-232 transmit signal as accessed from a Tektronix Demo 1 board.</p></div>
<p>After the Demo 1 Board has been powered up using the specialized Y USB cable, with the probe connected to an analog channel input, the trace is shown on the oscilloscope screen. To get a clear display, first press Autoset, then turn the Scale knob associated with the analog channel that is being used.</p>
<p>We have seen some aspects of RS-232 that are less developed and user friendly. It is sometimes considered primitive in comparison to other bus types. But its rugged hardware and trouble-free software attributes ensure that it will for the foreseeable future remain the best choice in industrial and scientific applications. As a matter of fact, serial ports with RS-232 bus technology have been used extensively and to good effect in the International Space Station, where reliability is a primary consideration.</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/testing-measurements-rs-232/">Testing and measurements with RS-232</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
<img src="http://feeds.feedburner.com/~r/TestAndMeasurementTips/~4/T89PheuJCHA" height="1" width="1" alt=""/>]]></content:encoded>
			<wfw:commentRss>http://www.testandmeasurementtips.com/testing-measurements-rs-232/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<feedburner:origLink>http://www.testandmeasurementtips.com/testing-measurements-rs-232/</feedburner:origLink></item>
		<item>
		<title>Analyzing the Serial Peripheral Interface (SPI) bus</title>
		<link>http://feedproxy.google.com/~r/TestAndMeasurementTips/~3/WFZ3t414zRA/</link>
		<comments>http://www.testandmeasurementtips.com/analyzing-serial-peripheral-interface-spi-bus/#respond</comments>
		<pubDate>Wed, 18 Jan 2017 19:14:58 +0000</pubDate>
		<dc:creator><![CDATA[David Herres]]></dc:creator>
				<category><![CDATA[New Articles]]></category>
		<category><![CDATA[Oscilloscopes]]></category>
		<category><![CDATA[Tektronix]]></category>

		<guid isPermaLink="false">http://www.testandmeasurementtips.com/?p=10069</guid>
		<description><![CDATA[<p>A serial bus can be more efficient than the traditional parallel bus. But there are challenges in representing and making sense of the serial data flow in the context of clock timing. These difficulties can be resolved by using the multi-channel capabilities of advanced oscilloscopes such as the Tektronix Series 3000 instruments. The key to [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/analyzing-serial-peripheral-interface-spi-bus/">Analyzing the Serial Peripheral Interface (SPI) bus</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>A serial bus can be more efficient than the traditional parallel bus. But there are challenges in representing and making sense of the serial data flow in the context of clock timing. These difficulties can be resolved by using the multi-channel capabilities of advanced oscilloscopes such as the <a href="http://www.tek.com" target="_blank">Tektronix Series 3000 </a>instruments.</p>
<div id="attachment_10070" style="width: 310px" class="wp-caption alignleft"><img class="size-medium wp-image-10070" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/Tektronix-MDO3104-300x199.jpg" alt="tek series 3000" width="300" height="199" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tektronix-MDO3104-300x199.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tektronix-MDO3104-768x510.jpg 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tektronix-MDO3104-1024x680.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /><p class="wp-caption-text">The Tektronix Series 3000 oscilloscopes can display serial bus activity including data and clock signals on the same time axis.</p></div>
<p>The key to understanding and interpreting the serial data and clock streams lies in understanding the inner workings of each individual type of data bus. Specifically, consider the Serial Peripheral Interface (SPI) bus. It resembles the I<sup>2</sup>C bus, but there are significant differences. Both are organized around master/slave architectures. But the wiring between master and slaves is radically different.</p>
<div id="attachment_10071" style="width: 429px" class="wp-caption alignleft"><img class="wp-image-10071" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/SPI-Architecture-300x93.png" alt="SPI Architecture" width="419" height="130" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-Architecture-300x93.png 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-Architecture-348x109.png 348w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-Architecture.png 350w" sizes="(max-width: 419px) 100vw, 419px" /><p class="wp-caption-text">The SPI bus connections consist of MOSI, MISO and a separate slave select line from the master to each slave. Logic-low voltage makes the slave active.</p></div>
<p>Typically, SPI operates with a single master device and a number of slaves, although as few as one slave is possible. The lines are as follows:<br />
â¢ A serial clock line runs from the master to each slave. The clock exists in the master and a square-wave clock signal is conveyed to the slave that is active. The clock frequency is chosen by the user, but it cannot be faster than permitted for the slowest slave device. So individual slave data sheets should be consulted in setting up the system.</p>
<p>â¢ Master-out, slave-in (MOSI). This is the line that conveys data as transmitted by the master to whatever slave is active. The line runs to all slaves, but those that are not active ignore it.<br />
â¢ Master-in, slave-out (MISO). This line conveys data from the active slave to the master. Because MOSI and MISO are separate lines, data can be conveyed in both directions simultaneously, to the detriment of neither.<br />
â¢ Slave select (SS). A separate line is run to each slave. Normally, when the system powers up, a logic-high voltage from the master is present at the SS pin of each slave device. To activate a slave, the master switches the voltage on that SS line to logic low. This method of slave selection is in lieu of the addressing concept as implemented in the I<sup>2</sup>C bus.</p>
<p>The SPI bus is sometimes called a three-wire scheme, or a four-wire scheme if you count an SS line for a single slave. Needless to say, each of these wires is actually a two-wire circuit, so a ground return line is required, but it is not considered in the numerical nomenclature. A single grounded conductor will suffice to complete all of these circuits.</p>
<p>The Tektronix MDO Demo 1 Board provides numerous outputs including I<sup>2</sup>C and SPI bus clock and data signals. It is intended to go with the Tektronix MDO4000 Series oscilloscopes, but it also works well with the MDO3000 Series instruments.</p>
<p>The Tektronix MDO Demo 1 Board receives power via an unusual T-type USB cable that has dual USB type A connectors at one end. They insert into the two oscilloscope USB slots. The rationale is that the power requirements of the Demo Board 1 are such that if a standard USB cable were to be used, it would overload a single USB output at the oscilloscope.</p>
<p>One red and two green LEDs indicate reception of power from the oscilloscope and that the board is ready to go. There are numerous output terminals on the board. They are suitable for probe connection using probe hook tips and ground return lead alligator clips.</p>
<div id="attachment_10073" style="width: 463px" class="wp-caption alignleft"><img class="wp-image-10073" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/tek-SPI-300x180.png" alt="SPI signal display" width="453" height="272" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/tek-SPI-300x180.png 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/tek-SPI-768x461.png 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/tek-SPI.png 800w" sizes="(max-width: 453px) 100vw, 453px" /><p class="wp-caption-text">SPI Clock, MOSI and MISO signals displayed in Tektronix MDO3104 scope.</p></div>
<p>To display SPI bus signals, TPP 1000 10:1 probes plug into analog channel inputs One, Two and Three. All ground return leads connect to one of the boardâs ground terminals, and the three probe tips are hooked onto the SPI clock, MISO and MOSI signal terminals. As always, the ground return leads should be connected first, before the probe tips.</p>
<p>One could use a fourth oscilloscope channel to display a slave-select signal. But because this signal is just a logic-high or logic-low voltage, it can be verified at both ends of the SPI bus using a standard high-impedance multimeter or logic probe.</p>
<p>The oscilloscope then displays the SPI data and clock signals. Using the Channel One, Channel Two and Channel Three scale buttons followed by Autoset, the pulses can be enlarged for readability, and the acquisition can be stopped to make the display more stable. The Wave Inspector knobs can be used to pan and zoom the traces for a closer look. Then it is a simple matter to compare points on the clock and data streams to ascertain the logic state (high or low) at any point in time. The vertical cursor, moved by turning Multipurpose Knob a, is helpful in seeing how these traces line up with respect to time.</p>
<p>We&#8217;ve seen how SPI serial bus data and clock signals can be visualized using an oscilloscope. The probes can be connected to similar terminals in a functioning (or non-functioning) piece of electronic equipment. (Be sure to turn the acquisition back to Run.)</p>
<p>Unlike I<sup>2</sup>C, there is no single standard for SPI. In the 1980s, it was developed by Motorola for use by the 68000 series microcontroller. SPI is a <em>de facto</em> rather than official standard, and as such it remains organic and subject to change.</p>
<p>Other manufacturers have introduced SPI with variations. So in implementing the design it is necessary to consult data sheets. For example, some slave devices require a falling edge in the SS signal to initiate communication. When there are multiple slave types, different initiating signals from the master are required. Like I<sup>2</sup>C, SPI is a short-haul serial bus. Because of its low power requirement, it is often used in cell phones, personal digital assistants and similar mobile equipment to implement interaction between CPU, display, keyboard and integrated circuits.</p>
<p>Variations include omitting the MISO line when communication from slave to master is unecessary. Also, the SS line is not needed when there is only a single slave, and the slave-select pin is grounded so it is always active.</p>
<p>While it is true that SPI is a synchronous serial interface (SSI), it differs radically from the SSI protocol, which is characterized by differential signaling and a single simplex communication channel.</p>
<p><img class="alignleft wp-image-10074" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/SPI-shift-registers-300x168.jpg" alt="SPI shift registers" width="479" height="269" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-shift-registers-300x168.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-shift-registers-768x431.jpg 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-shift-registers-1024x574.jpg 1024w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/SPI-shift-registers.jpg 1104w" sizes="(max-width: 479px) 100vw, 479px" />There is full-duplex transmission, both MOSI and MISO, during each clock signal. One bit is sent in each direction on the two separate lines. The usual procedure employs two shift registers, one in the master and one in the slave. Duplex transmission continues through a sufficient number of clock cycles to complete the transmission. In this manner, master and slave acquire the registers as conveyed over the two lines. If more data remains, the shift registers are reloaded and transmission commences anew.</p>
<p>This process continues through as many clock cycles as necessary, whereupon the master allows the select signal to go to logic high, deselecting the slave. Transmissions are often 8-bit, but there are variations such as 12-bit for many DACs and ADCs, and 16-bit for touchscreen controllers.</p>
<p>Because of hardware and <em>de facto</em> protocol differences, the SPI bus has a spectrum of advantages and disadvantages with respect to I<sup>2</sup>C and other bus types. Advantages include full-duplex capability merely by adding another line. Moreover, there is good signal integrity, high speed transmission, and more potential data transmission compared to I<sup>2</sup>C. Also, message content is unlimited and not restricted to 8-bit data units. Generally, the power requirement is less than in I<sup>2</sup>C because pull-up resistors are unnecessary. SPI is also dependable because it needs no arbitration, and there is no need for unique slave addresses. Because there is no maximum clock speed aside from slave device constraints, there is the potential for high-speed operation.</p>
<p>As in any technology, there are disadvantages with respect to some other protocols. Because there is no slave acknowledgement, in the event of slave or cabling failure, the master, unaware that something is wrong, could be talking into a void with no listener. Also, the lack of a single formalized standard can make conformance validation impractical. Also, the existance of numerous unregulated SI variations can make the acquisition of hardware problematic.</p>
<p>Down the road, it is conceivable SPI could see a greater degree of codification. This development will mean further SPI enhancements that could reduce the confusion that now exists. That said, as currently implemented, SPI is quite user-friendly, particularly in its requirement for little power.</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/analyzing-serial-peripheral-interface-spi-bus/">Analyzing the Serial Peripheral Interface (SPI) bus</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
<img src="http://feeds.feedburner.com/~r/TestAndMeasurementTips/~4/WFZ3t414zRA" height="1" width="1" alt=""/>]]></content:encoded>
			<wfw:commentRss>http://www.testandmeasurementtips.com/analyzing-serial-peripheral-interface-spi-bus/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<feedburner:origLink>http://www.testandmeasurementtips.com/analyzing-serial-peripheral-interface-spi-bus/</feedburner:origLink></item>
		<item>
		<title>Basics of working with I2C buses</title>
		<link>http://feedproxy.google.com/~r/TestAndMeasurementTips/~3/Cs-HONKzn5U/</link>
		<comments>http://www.testandmeasurementtips.com/basics-working-i2c-buses/#respond</comments>
		<pubDate>Fri, 13 Jan 2017 22:21:01 +0000</pubDate>
		<dc:creator><![CDATA[David Herres]]></dc:creator>
				<category><![CDATA[data acquisition]]></category>
		<category><![CDATA[Tektronix]]></category>

		<guid isPermaLink="false">http://www.testandmeasurementtips.com/?p=10058</guid>
		<description><![CDATA[<p>Back in olden days, parallel buses were used to link electronic building blocks. Today serial buses have largely replaced them. There are numerous components for many applications that have standard serial interfaces, and this trend makes serial technology a good choice for design engineers. Because there are fewer signal lines, serial bus electronics take up [&#8230;]</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/basics-working-i2c-buses/">Basics of working with I<sup>2</sup>C buses</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
]]></description>
				<content:encoded><![CDATA[<p>Back in olden days, parallel buses were used to link electronic building blocks. Today serial buses have largely replaced them. There are numerous components for many applications that have standard serial interfaces, and this trend makes serial technology a good choice for design engineers. Because there are fewer signal lines, serial bus electronics take up less board space. With fewer pins per device and lower power requirements, the cost is less as well. As for quality, a great plus factor is that the differential signal transmission used in serial schemes translates into better noise immunity.</p>
<p>The migration from parallel to serial data transmission has been problematic in one respect: In serial distribution troubleshooting and design prototyping there is a bit of a learning curve. The multiple wires in parallel transmission enable an orderly display of logic activity. When several channels are multiplexed into a two-wire circuit, a certain amount of background information is necessary about the various serial protocols if one is to make sense of the rapid flux of high and low logic states.</p>
<p>At this point weâll back up and consider I<sup>2</sup>C in a little more detail. But first, by way of background, what is a bus? It comes from the Latin word omnibus, meaning âfor all.â In electrical power distribution a bus is a metal strip or bar that conducts electricity, usually lots of it for relatively short distances as in switchgear or in an entrance panel. In computing and communications equipment, bus has a different though related meaning. It is the complete system that is involved in data transfer. It is the pathway between computers, nodes within a single computer or portions of a communications system, including the conductors, such as Ethernet cable, but also including the hardware at either end plus enabling software and protocols.</p>
<p>I<sup>2</sup>C stands for Inter-Integrated Circuit. It was invented by Philips Semiconductor in 1982 to facilitate communication between or among processors and microcontrollers, for the most part within the confines of a single circuit board, or by means of a cable connection, between devices on very nearby circuit boards. Since the mid-1990s, compatible products have been developed by Siemens AG, NEC, Texas Instruments, ST Microelectronics, Motorola, and others. Currently, anyone can implement I<sup>2</sup>C with no licensing fees.</p>
<p>In all instances, I<sup>2</sup>C is based upon a two-wire master-slave relationship, although there may be any number of masters and any number of slaves all on a single serial bus. All masters and slaves are connected in parallel between the two lines, just like receptacles in an electrical branch circuit. The logic high voltage is applied to one of the lines, and it is pulled down when any one of the devices conducts. The two wires are bidirectional open-drain lines. One is a serial data line and the other is a serial clock line. Both are pulled up by resistors, and common voltages are 3.3 and 5.0, although others are possible.</p>
<div id="attachment_10059" style="width: 462px" class="wp-caption alignleft"><img class="wp-image-10059" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/simpleI2C-system-300x150.jpg" alt="simple I2C system" width="452" height="227" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/simpleI2C-system-300x150.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/simpleI2C-system.jpg 720w" sizes="(max-width: 452px) 100vw, 452px" /><p class="wp-caption-text">IÂ²C uses two bidirectional open-drain lines labeled Serial Data Line (SDA) and Serial Clock Line (SCL), pulled up with resistors. Typical voltages are +5 or +3.3 V.</p></div>
<p>Nodes are either master or slave, determined by what they do. The master node generates the clock signal and initiates communication with the slave. The slave node receives the clock and responds when addressed by the master. The I<sup>2</sup>C bus is designed to accommodate any number of masters and slaves. After a transmission has ended, master and slave roles may be reversed.</p>
<p>Communication initiates when the master sends the seven-bit address of a slave, followed by a zero if it wishes to write or a one if it wishes to read.</p>
<p>If there exists a slave on the I<sup>2</sup>C bus that has the address as sent by the master, then it will send a one-bit acknowledge message, which is zero. All other slaves with different addresses ignore these transmissions. Then, depending upon whether the master has sent a read or write bit in the opening communication, both entities perform their prescribed roles.</p>
<div id="attachment_10060" style="width: 467px" class="wp-caption alignleft"><img class="wp-image-10060" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/I2C-timing-300x89.jpg" alt="timing diagram" width="457" height="135" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/I2C-timing-300x89.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/I2C-timing-768x227.jpg 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/I2C-timing-1024x303.jpg 1024w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/I2C-timing.jpg 1119w" sizes="(max-width: 457px) 100vw, 457px" /><p class="wp-caption-text">Data Transfer in IÂ²C buses starts with a Start bit (S) signaled by SDA being pulled low while SCL stays high. SDA sets the first data bit level while keeping SCL low (during blue bar time) . The data is sampled (received) when SCL rises (green) for the first bit (B<sub>1</sub>). This process repeats, SDA transitioning while SCL is low, and the data is read while SCL is high (B<sub>2</sub>, B<sub>n</sub>). A Stop bit (P) is signaled when SDA is pulled high while SCL is high.</p></div>
<p>When the system is idle, both lines are high. If any node drives the line low, it will be low. As mentioned, the clock signal is sent by the master. Any reasonable rate will work, so the system can be designed to accommodate the speed of the slowest slave. Moreover, if the receiving slave feels overwhelmed, it can slow the clock rate as required to process the transmission. This is called âclock stretching,â but with todayâs high-speed devices, it is rarely necessary.</p>
<p>All masters on a given I<sup>2</sup>C bus monitor the bus for start and stop bits. While one master is using the bus, another master will not initiate a communication. If two masters are sending messages to two different slaves, the one sending a message to the slave having the lower slave address will take priority.</p>
<p>I<sup>2</sup>C has been extremely successful and is seen frequently in embedded systems. It is in everything from refrigerators to space ships. It has become ubiquitous in interfacing peripheral circuits to prototyping systems such as Arduino and Raspberry Pi.</p>
<p>A logic probe in conjunction with a logic pulser works well to follow the voltage fluctuations in a parallel bus system. But in serial transmission, the rapidly blinking LED is in over its head. The tool of choice is an oscilloscope with advanced logic capabilities such as the <a href="http://www.tek.com" target="_blank">Tektronix</a> MDO3104.</p>
<div id="attachment_10061" style="width: 310px" class="wp-caption alignleft"><img class="size-medium wp-image-10061" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/Tek-I2c-Hookup-300x199.jpg" alt="Tek I2c Hookup" width="300" height="199" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2c-Hookup-300x199.jpg 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2c-Hookup-768x510.jpg 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2c-Hookup-1024x680.jpg 1024w" sizes="(max-width: 300px) 100vw, 300px" /><p class="wp-caption-text">Accessing an I<sup>2</sup>C signal using a Tektronix MDO3104 oscilloscope with a compatible demo board.</p></div>
<p>To get started, one needs a source for serial us signals. The Tektronix MDO Demo 1 Board provides numerous outputs including I<sup>2</sup>C. It is intended to go with the Tektronix MDO4000 Series oscilloscopes, but works well also with the MDO3000 Series instruments.</p>
<p>The Tektronix MDO Demo 1 Board comes with a special T-type USB cable that has dual USB type A connectors at one end. Both of these are to be plugged into the two USB slots in the oscilloscope. The reason for this is that the power requirements of Demo Board 1 are such that if a standard USB cable were to be used, it would overload a single USB output at the oscilloscope.</p>
<p>Once powered up, one red and two green LEDs indicate the board is ready for use. On all four sides of the board are numerous output terminals. They are suitable for probe connection using probe hook tips and ground return lead alligator clips.</p>
<p>For the present discussion, TPP 1000 10:1 probes plug into analog channel inputs One and Two. Both ground return leads connect to one of the boardâs ground terminals, and the two probe tips hook onto the I<sup>2</sup>C data and clock signal terminals. As always, the ground return leads should be connected first, before the probe tips.</p>
<div id="attachment_10062" style="width: 310px" class="wp-caption alignleft"><img class="size-medium wp-image-10062" src="http://www.testandmeasurementtips.com/wp-content/uploads/2017/01/Tek-I2C-Signals-300x180.png" alt="Tek I2C Signals" width="300" height="180" srcset="http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2C-Signals-300x180.png 300w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2C-Signals-768x461.png 768w, http://2yh5c119vtjz3yoo8229y5bs.wpengine.netdna-cdn.com/wp-content/uploads/2017/01/Tek-I2C-Signals.png 800w" sizes="(max-width: 300px) 100vw, 300px" /><p class="wp-caption-text">I<sup>2</sup>C signals displayed in a Tektronix MDO3104 oscilloscope.</p></div>
<p>The oscilloscope then displays the I<sup>2</sup>C data and clock signals. Using the Channel One and Channel Two scale buttons followed by Autoset, these pulses can be enlarged for readability, and the acquisition can be stopped to make the display more stable. The Wave Inspector knobs can be used to pan and zoom the traces for a closer look. Then, it is a simple matter to compare points on the clock and data streams to ascertain the logic state (high or low) at any point in time. The vertical cursor, moved by turning Multipurpose Knob a, is helpful in seeing how these traces line up with respect to time.</p>
<p>Now that we have seen how a serial bus data and clock signals can be visualized using and oscilloscope, the probes can be connected to similar terminals in a functioning (or non-functioning) piece of electronic equipment. (Be sure to turn the acquisition back to Run.)</p>
<p>The post <a rel="nofollow" href="http://www.testandmeasurementtips.com/basics-working-i2c-buses/">Basics of working with I<sup>2</sup>C buses</a> appeared first on <a rel="nofollow" href="http://www.testandmeasurementtips.com">Test &amp; Measurement Tips</a>.</p>
<img src="http://feeds.feedburner.com/~r/TestAndMeasurementTips/~4/Cs-HONKzn5U" height="1" width="1" alt=""/>]]></content:encoded>
			<wfw:commentRss>http://www.testandmeasurementtips.com/basics-working-i2c-buses/feed/</wfw:commentRss>
		<slash:comments>0</slash:comments>
		<feedburner:origLink>http://www.testandmeasurementtips.com/basics-working-i2c-buses/</feedburner:origLink></item>
	</channel>
</rss>
